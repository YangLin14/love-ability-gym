這是一份針對 **第三部分：共情 (Module 3: Empathy / Understanding Love)** 的超詳細產品設計文檔 (PDD)。

這份文檔專注於將《愛的五種能力》書中強調的「接納」與「理解」能力，轉化為一套即使對方不在場，也能在單人模式下有效運作的**心智模擬工具**。

---

Markdown

\# 📱 產品設計文檔 (PDD) \- 第三部分：共情能力  
**\*\*專案名稱：\*\*** 愛的能力健身房 (Love Ability Gym)  
**\*\*模組：\*\*** Module 3 \- Empathy (共情 / 理解愛)  
**\*\*版本：\*\*** 1.0  
**\*\*狀態：\*\*** 待開發  
**\*\*適用平台：\*\*** Flutter (iOS / Android)

\---

\#\# 1\. 模組概述 (Module Overview)

\#\#\# 1.1 目標  
本模組是整個 App 的「心智翻譯器」。目標是幫助用戶在面對伴侶的負面情緒（如憤怒、指責）時，能瞬間看穿這只是「求助信號」，並在內心完成「接納與理解」的過程，即使對方當下表現得很糟糕。

\#\#\# 1.2 用戶故事 (User Stories)  
1\.  **\*\*作為一個受傷的用戶\*\***，我不懂為什麼他要對我大吼大叫，我想要知道他到底在想什麼。  
2\.  **\*\*作為一個習慣辯解的用戶\*\***，我每次一聽到批評就想反擊，我想要一個工具讓我能「忍住不插嘴」。  
3\.  **\*\*作為一個想挽回的用戶\*\***，我想讓他覺得我是最懂他的人，但我不知道該怎麼說才能安慰到心坎裡。  
4\.  **\*\*作為一個被誤解的用戶\*\***，我想要練習「不帶評判地聽」，這樣我就能聽出他的真實需求。

\---

\#\# 2\. 功能規格詳解 (Detailed Feature Specifications)

本模組包含三個核心練習工具，重點在於「翻譯情緒」與「深度傾聽」。

\#\#\# 2.1 練習一：憤怒解碼器 (The Anger Decoder)  
**\*\*對應理論：\*\*** 情緒背後的邏輯 (Logic of Emotion)  
**\*\*核心邏輯：\*\*** 憤怒 \= 焦慮/恐懼 \+ 無力感。

\#\#\#\# 2.1.1 UI 流程 (Scenario Wizard)  
1\.  **\*\*輸入場景：\*\*** 用戶輸入伴侶說的一句傷人的話（例如：「你整天只知道看手機，家裡的事都不管！」）。  
2\.  **\*\*步驟 1：識別表層情緒 (Surface Emotion)\*\***  
    \* **\*\*系統問：\*\*** 「這句話聽起來像是在攻擊，但他當時的語氣和表情主要是？」  
    \* **\*\*選項：\*\*** 憤怒、冷漠、諷刺、絕望。  
    \* **\*\*生成結論：\*\*** 「他在生氣。」  
3\.  **\*\*步驟 2：挖掘深層恐懼 (Underlying Fear)\*\***  
    \* **\*\*系統問：\*\*** 「如果他在生氣，那是因为他在害怕失去什麼？」  
    \* **\*\*選項卡 (Fear Cards):\*\*** 失去連結感、失去控制權、被忽視、生活失序。  
    \* **\*\*生成結論：\*\*** 「他其實是在害怕被忽視，害怕這個家失序。」  
4\.  **\*\*步驟 3：看見無力感 (Sense of Powerlessness)\*\***  
    \* **\*\*系統問：\*\*** 「他為什麼要用吼的？是不是因為他覺得好好說沒用？」  
    \* **\*\*選項：\*\*** 是 / 否。  
    \* **\*\*生成洞察：\*\*** 「他吼叫，是因為他覺得自己無力改變現狀，只好用聲量來武裝自己。」  
5\.  **\*\*生成共情回應 (Empathy Response)：\*\***  
    \* 系統自動生成一段話術：「原來你不是在罵我，你是太擔心家裡變得一團亂，而你又覺得自己一個人扛不住，所以才這麼急。」

\#\#\#\# 2.1.2 輸出與行動  
\* **\*\*\[保存到心智模型\]\*\***：用戶將這個洞察存起來，下次對方吼叫時，腦中自動彈出這張卡片。  
\* **\*\*\[練習朗讀\]\*\***：用戶對著手機唸一遍生成的共情回應，模擬對話。

\---

\#\#\# 2.2 練習二：聆聽實驗室 (The Deep Listening Lab)  
**\*\*對應理論：\*\*** 閉嘴的能力 (The Ability to Shut Up)  
**\*\*核心邏輯：\*\*** 只有當你完全安靜，對方才能把話說完，情緒才能流動。

\#\#\#\# 2.2.1 UI 交互設計 (Audio Challenge)  
1\.  **\*\*場景選擇：\*\*** 用戶選擇一個模擬場景（難度分級）。  
    \* *\*Level 1 (簡單):\** 伴侶抱怨工作太累。  
    \* *\*Level 2 (中等):\** 伴侶抱怨你亂花錢。  
    \* *\*Level 3 (困難):\** 伴侶指責你不愛他，甚至提分手。  
2\.  **\*\*挑戰開始：\*\***  
    \* App 播放一段 60 秒的錄音（模擬真實伴侶的語氣，會有停頓、嘆氣）。  
    \* **\*\*限制條件：\*\*** 必須開啟麥克風。  
3\.  **\*\*規則：\*\***  
    \* 如果用戶在播放期間發出聲音（例如：想插話「不是這樣的...」），音量超過閾值。  
    \* **\*\*系統判定失敗：\*\*** 錄音暫停，彈出紅牌：「🚫 你打斷了！他還沒說完。深呼吸，重來。」  
4\.  **\*\*成功獎勵：\*\***  
    \* 如果 60 秒保持安靜。  
    \* **\*\*系統判定成功：\*\*** 彈出綠牌：「✅ 完美聆聽！你給了他宣洩的空間。」

\#\#\#\# 2.2.2 技術細節 (Mic Logic)  
\* **\*\*音頻處理：\*\*** 使用 \`flutter\_sound\` 或 \`record\` 套件監聽麥克風分貝數。  
\* **\*\*閾值設定：\*\*** 默認 \> \-20dB 視為說話（可調整靈敏度）。

\---

\#\#\# 2.3 練習三：換位思考生成器 (Perspective Switcher)  
**\*\*對應理論：\*\*** 肯定對方的邏輯 (Validating Logic)  
**\*\*核心邏輯：\*\*** 你可以不同意他的**\*\*事實\*\***（我不覺得我亂花錢），但你必須肯定他的**\*\*邏輯\*\***（如果我也像他那樣缺乏安全感，我也會覺得這是在亂花錢）。

\#\#\#\# 2.3.1 UI 交互設計 (Card Sorting)  
1\.  **\*\*場景：\*\*** 伴侶說：「你都不陪我！」  
2\.  **\*\*任務：\*\*** 區分「事實層面」與「感受層面」。  
3\.  **\*\*卡片分類：\*\***  
    \* 卡片 A：「我明明昨天才陪你吃飯！」（事實反駁 → ❌ 錯誤）  
    \* 卡片 B：「你最近一定很孤單吧。」（感受肯定 → ✅ 正確）  
    \* 卡片 C：「你自己也不陪我啊！」（反擊 → ❌ 錯誤）  
4\.  **\*\*進階練習 (填空)：\*\***  
    \* 系統給出句型：「雖然我不認為 \[事實：我沒陪你\]，但我能理解你感到 \[感受：孤單\]，因為 \[邏輯：你最近壓力大，特別需要人\]。」  
    \* 用戶填入括號內的內容。  
    \* **\*\*價值：\*\*** 訓練大腦同時處理兩種真相（我的事實 vs 他的感受）。

\---

\#\# 3\. 數據與隱私 (Data & Privacy)

\#\#\# 3.1 本地資料庫模型 (Isar Schema)  
\`\`\`dart  
@collection  
class EmpathyLog {  
  Id id \= Isar.autoIncrement;  
    
  late DateTime createdAt;  
  late String triggerPhrase; // "你都不陪我"  
  late String decodedEmotion;// "Lonely"  
  late String decodedFear;   // "Abandonment"  
  late bool isPracticeSuccess; // 聆聽實驗室是否通關  
}

---

## **4\. 異常處理 (Edge Cases)**

1. **用戶情緒尚未平復：**  
   * 在「憤怒解碼器」中，如果用戶輸入的不是伴侶的話，而是自己的咒罵（如：「他就是個混蛋」）。  
   * **處理：** 系統識別關鍵詞，提示：「這看起來像是你在生氣，而不是他在說話。我們要不要先切換到 **Module 2 (述情)** 幫你自己表達憤怒？」  
2. **麥克風環境噪音過大：**  
   * 在「聆聽實驗室」中，背景噪音一直觸發失敗。  
   * **處理：** 提示用戶：「環境太吵了？切換到『手動模式』，長按按鈕代表『我想插話』。」

---

## **5\. 開發優先級 (Development Priority)**

1. **P0 (最高):** 憤怒解碼器 (這是核心認知工具)。  
2. **P1:** 聆聽實驗室 (技術上有趣，且具備遊戲化元素)。  
3. **P2:** 換位思考生成器 (靜態內容展示與填空)。

這份文檔詳細定義了 \*\*共情 (Empathy)\*\* 模組的功能。它將「理解他人」這個高難度的心理活動，拆解為「解碼」、「閉嘴」、「換位」三個可操作的步驟，讓用戶在單人模式下也能鍛鍊出強大的同理心肌肉。

